# Crypto Ecosystem Analyzer Configuration - Organization-Based
# This file controls all the parameters for the analysis
# Updated for comprehensive OSO schema with reasonable performance limits

[general]
# Output directory for CSV files
output_dir = "./raw"

# Date range for contributions (in days from now)
# Set to 0 to include all historical data
days_back = 0  # 0 = all time, 365 = last year, 730 = last 2 years

# Enable second degree analysis (finding repos from extended contributors)
enable_second_degree_analysis = false

[seed_organizations]
# List of seed organizations to analyze
# All repositories from these organizations will be included
orgs = [
    "ethereum",
    "bitcoin",
    "cosmos",
    "paradigmxyz",
    "compound-finance",
    "smartcontractkit",
    "uniswap",
    "offchainlabs",
    "foundry-rs",
    "paritytech",
]

# Repository filtering within organizations
[seed_repositories]
# Minimum number of commits a repository must have to be included
min_repo_commits = 10

# Maximum number of repositories to include per organization (0 = no limit)
max_repos_per_org = 200

# Exclude repositories that match these patterns (case-insensitive)
exclude_patterns = []

# Exclude forks from seed repositories
exclude_forks = true

[contributors]
# Minimum number of commits a contributor must have to be considered "core"
min_commits = 10

# Maximum number of top contributors to fetch per seed repository
max_contributors_per_repo = 50

# Maximum number of total core contributors to use for extended analysis
# (to keep queries fast, we limit this)
max_core_contributors_for_extended_analysis = 300

[extended_repositories]
# Minimum number of core contributors a repo must have to be included
min_core_contributors = 2

# Maximum number of extended repositories to find (0 = no limit)
max_extended_repos = 0

# Maximum number of extended repos to use for finding extended contributors (0 = no limit)
max_extended_repos_for_contributors = 0

[extended_contributors]
# Minimum commits in extended repos to be considered an extended contributor
min_commits_extended = 3

# Maximum number of extended contributors to fetch (0 = no limit)
max_extended_contributors = 0

[query_limits]
# SQL query limits to prevent timeouts
# Increase these if you want more comprehensive results (but slower queries)

# Limit for seed repositories discovery per organization (0 = no limit)
seed_repos_per_org_limit = 0

# Limit for core contributors query (0 = no limit)
core_contributors_limit = 0

# Limit for extended repos query (0 = no limit)
extended_repos_limit = 0

# Limit for extended contributors query (0 = no limit)
extended_contributors_limit = 0

[filters]
# Repository filters
exclude_archived = true

# Contributor filters
exclude_bots = true  # Set to true to exclude bot accounts
bot_keywords = ["bot", "dependabot", "mergify", "renovate", "github-actions", "semantic-release"]

# Date filters (overrides days_back if set)
start_date = ""  # Format: "2020-01-01" or empty for no limit
end_date = ""    # Format: "2024-12-31" or empty for no limit

[output]
# Output file naming
timestamp_format = "%Y%m%d_%H%M%S"
file_prefix = "crypto"

# CSV output options
include_headers = true
include_timestamp_in_filename = false

# Additional output files
save_summary_stats = true
save_network_graph_data = false  # Future feature
